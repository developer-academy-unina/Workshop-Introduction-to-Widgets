//
//  Coin.swift
//  Moon
//
//  Created by Pasquale Vittoriosi for the Developer Academy on 18/02/22.
//
//


import Foundation

struct Coin: Codable, Identifiable {
    let id: String
    let symbol: String
    let name: String
    let image: URL
    let currentPrice: Double
    let priceChangePercentage24h: Double
    let sparklineIn7d: SparklineIn7d
    
    private enum CodingKeys: String, CodingKey {
        case id
        case symbol
        case name
        case image
        case currentPrice = "current_price"
        case priceChangePercentage24h = "price_change_percentage_24h"
        case sparklineIn7d = "sparkline_in_7d"
    }
    
}

struct SparklineIn7d: Codable {
    let price: [Double]
}

extension Coin {
    static let previewData = Coin(id: "bitcoin", symbol: "btc", name: "Bitcoin", image: URL(string: "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579")!, currentPrice: 40560.0, priceChangePercentage24h: -1.11198, sparklineIn7d: SparklineIn7d(price: [39797.65747232564, 39823.05367947227, 39244.448293388086, 39333.0771380783, 39105.90213395263, 38764.6759166656, 38875.799174578904, 38704.118378743085, 38827.17323429332, 38480.10230225776, 38848.3766135773, 38997.34773968684, 38775.17558840679, 39138.22007232887, 39206.14820200468, 39140.181334651395, 39134.483935951066, 39102.491091855765, 39172.244868115, 39149.32574482542, 39117.17953005556, 39143.1420104463, 39200.43990936476, 39234.69000929967, 39151.39083498735, 39216.82865959343, 39142.364778903066, 38923.885483135855, 39144.286982981495, 39142.68464203279, 39126.97197297261, 39114.749404989445, 39067.90329921987, 39184.573400405745, 39138.17771394727, 39180.18316149835, 38903.69354800599, 38920.759870100155, 39033.609267538326, 39181.226722053696, 39196.413431782334, 39167.147260133934, 39182.43542010076, 39181.76778596648, 39138.20615722545, 39085.711584716104, 39010.013678303454, 39007.61611379823, 38763.21356853998, 38537.124926437915, 38780.10115496434, 38879.611995933235, 38985.85822122003, 38972.21216727472, 38961.90074573651, 39014.20589954791, 38924.60338065078, 38717.46688416726, 38758.31909449219, 37951.50103815071, 37866.51987287414, 37842.03440281195, 38116.856109531676, 38067.21311384045, 38177.632038205964, 38485.734425838935, 38490.90170841651, 38628.789769934905, 39070.33957435782, 39082.313552573236, 39225.3760045802, 39113.27197780762, 38940.011142908734, 38817.812311117326, 38860.32636952813, 38939.83301805649, 38956.76435534536, 38924.80087464289, 38779.92970049736, 38680.634753623446, 38769.35009642774, 38794.24370182722, 38720.88398225874, 39539.75988759795, 39669.423812004505, 39520.194754821845, 38841.359493823555, 39001.694239225115, 38736.50003661337, 38800.90004262482, 38775.07389046011, 38803.13594717715, 38433.442756322474, 38389.02981333102, 38575.362411611655, 38671.69446010028, 38655.12689864263, 38839.392111292575, 38751.875843721, 39069.609434723716, 39015.17253019357, 39191.2071229754, 39278.63212502964, 39332.48071133705, 39655.77314950119, 39435.0379534118, 39608.121771210645, 39472.0608933335, 39331.84654059453, 39156.503559580015, 39431.272080337985, 40795.11588258226, 39088.40018399517, 39150.78116393391, 39279.1770750957, 39554.6825820659, 39569.37424760386, 40346.52773175056, 40533.32824193257, 40355.85218270206, 40600.39368414035, 40423.27175449897, 40588.299919297584, 40799.64750906399, 40663.72340980562, 40316.76188347351, 40413.026879882076, 39973.132720407004, 40834.46159803186, 41275.91165086565, 41065.77743058878, 40921.96974742411, 41165.63506140341, 40973.817295987625, 41062.532676072384, 41132.21855776482, 41068.38655421979, 41275.738744683644, 41091.674767873104, 40840.91002593043, 40774.90953073194, 40881.61609454891, 40837.826480753465, 40741.94411289332, 40768.230901303854, 41005.3113004114, 41071.31913134101, 40889.164186187474, 40925.6487071971, 40823.40714525256, 40840.5902231867, 40829.33756770281, 40840.78814143565, 40783.63682137506, 40962.70555541926, 41015.98195142964, 41001.70957801974, 40712.691098369716, 40590.07467511413, 40565.36279836173, 40563.712006534464, 40652.41274265585, 40799.88090728682, 40754.15562529224, 40612.63661958296, 40597.31477874975, 40555.73885712383, 40465.26411959411]))
}
